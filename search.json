[{"path":"https://rd.thecoatlessprofessor.com/rcpp-modules-student/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"James Balamuta. Author, maintainer. Ben Gorman. Author.","code":""},{"path":"https://rd.thecoatlessprofessor.com/rcpp-modules-student/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Balamuta J, Gorman B (2024). RcppStudent: Expose Student C++ Class using 'Rcpp Modules'. R package version 0.0.1, https://rd-rcpp.thecoatlessprofessor.com/rcpp-modules-student/, https://github.com/coatless-rd-rcpp/rcpp-modules-student.","code":"@Manual{,   title = {RcppStudent: Expose the Student C++ Class using 'Rcpp Modules'},   author = {James Balamuta and Ben Gorman},   year = {2024},   note = {R package version 0.0.1, https://rd-rcpp.thecoatlessprofessor.com/rcpp-modules-student/},   url = {https://github.com/coatless-rd-rcpp/rcpp-modules-student}, }"},{"path":"https://rd.thecoatlessprofessor.com/rcpp-modules-student/index.html","id":"exposing-c-classes-into-r-through-rcpp-modules","dir":"","previous_headings":"","what":"Exposing C++ Classes into R Through Rcpp Modules","title":"Expose the Student C++ Class using Rcpp Modules","text":"RcppStudent R package provides example using Rcpp Modules expose C++ classes methods R. Code example based question arose StackOverflow titled “Expose simple C++ Student class R using Rcpp modules” Ben Gorman.","code":""},{"path":"https://rd.thecoatlessprofessor.com/rcpp-modules-student/index.html","id":"usage","dir":"","previous_headings":"Exposing C++ Classes into R Through Rcpp Modules","what":"Usage","title":"Expose the Student C++ Class using Rcpp Modules","text":"install package, must first compiler system compatible R. help obtaining compiler consult either macOS Windows guides. compiler hand, one can install package GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"r-pkg-examples/rcpp-modules-student\") library(\"RcppStudent\")"},{"path":"https://rd.thecoatlessprofessor.com/rcpp-modules-student/index.html","id":"implementation-details","dir":"","previous_headings":"Exposing C++ Classes into R Through Rcpp Modules","what":"Implementation Details","title":"Expose the Student C++ Class using Rcpp Modules","text":"guide focuses providing implementation along path suggested Rcpp Modules Section 2.2: Exposing C++ classes using Rcpp modules. particular, focus expose pure C++ class inside R without modifying underlying C++ class. Largely, means C++ class must “marked ” export using RCPP_MODULE( ... ) macro separate file.","code":"RcppStudent ├── DESCRIPTION                  # Package metadata ├── NAMESPACE                    # Function and dependency registration ├── R │   ├── RcppExports.R │   ├── student-exports.R        # Exporting Rcpp Module's Student into R │   └── student-pkg.R            # NAMESPACE Import Code for Rcpp Modules ├── README.md                    # Implementation Overview ├── RcppStudent.Rproj ├── man │   ├── RcppStudent-package.Rd │   └── Student.Rd └── src     ├── Makevars                 # Enable C++11     ├── RcppExports.cpp     ├── student.cpp              # Class Implementation     ├── student.h                # Class Definition     ├── student_export.cpp       # Exporting the C++ Class with RCPP_MODULE     └── student_non_modules.cpp  # Example with Rcpp Attributes"},{"path":"https://rd.thecoatlessprofessor.com/rcpp-modules-student/index.html","id":"c-class-definition","dir":"","previous_headings":"Exposing C++ Classes into R Through Rcpp Modules","what":"C++ Class Definition","title":"Expose the Student C++ Class using Rcpp Modules","text":"Inside src/student.h, definition C++ class written inclusion guard. definition “bare-bones” overview expect. meat implementation class given src/student.cpp file.","code":"//  Student.h  #ifndef Student_H #define Student_H  #include <string> #include <vector>  class Student { public:    // Constructor   Student(std::string name, int age, bool male);    // Getters   std::string GetName();   int GetAge();   bool IsMale();   std::vector<int> GetFavoriteNumbers();    // Methods   bool LikesBlue();  private:    // Member variables   std::string name;   int age;   bool male;   std::vector<int> favoriteNumbers; };  #endif /* Student_H */"},{"path":"https://rd.thecoatlessprofessor.com/rcpp-modules-student/index.html","id":"c-class-implementation","dir":"","previous_headings":"Exposing C++ Classes into R Through Rcpp Modules > C++ Class Definition","what":"C++ Class Implementation","title":"Expose the Student C++ Class using Rcpp Modules","text":"src/student.cpp, meat behind C++ class implemented. “meat” emphasizes different methods within class behave. ","code":"//  Student.cpp  #include \"student.h\"  // Constructor Student::Student(std::string name, int age, bool male) {   this->name = name;   this->age = age;   this->male = male;   this->favoriteNumbers = {2, 3, 5, 7, 11}; // Requires C++11 }  // Getters bool Student::IsMale() { return male; } int Student::GetAge() { return age; } std::string Student::GetName() { return name; } std::vector<int> Student::GetFavoriteNumbers() { return favoriteNumbers; }  // Methods bool Student::LikesBlue() {   return (male || age >= 10); }"},{"path":"https://rd.thecoatlessprofessor.com/rcpp-modules-student/index.html","id":"writing-the-glue","dir":"","previous_headings":"Exposing C++ Classes into R Through Rcpp Modules","what":"Writing the Glue","title":"Expose the Student C++ Class using Rcpp Modules","text":"class definition implementation hand, task switches exposing definition R creating src/student_export.cpp. Within file, Rcpp Module defined using RCPP_MODULE( ... ) macro. macro, class’ information must specified using different member functions Rcpp::class_. subset member functions given next: Exposes constructor recognizable C++ data types. e.g. double, int, std::string, . Exposes class method ClassName given FunctionName. Indirect access Class’ fields getter setter functions. Exposes public field read write access R Exposes public field read access R","code":"// student_export.cpp  // Include Rcpp system header file (e.g. <>) #include <Rcpp.h>  // Include our definition of the student file (e.g. \"\") #include \"student.h\"  // Expose (some of) the Student class RCPP_MODULE(RcppStudentEx) {             // Name used to \"loadModule\" in R script   Rcpp::class_<Student>(\"Student\")       // This must be the C++ class name.   .constructor<std::string, int, bool>()   .method(\"GetName\", &Student::GetName)   .method(\"GetAge\", &Student::GetAge)   .method(\"IsMale\", &Student::IsMale)   .method(\"GetFavoriteNumbers\", &Student::GetFavoriteNumbers)   .method(\"LikesBlue\", &Student::LikesBlue); }"},{"path":"https://rd.thecoatlessprofessor.com/rcpp-modules-student/index.html","id":"exporting-and-documenting-an-rcpp-module","dir":"","previous_headings":"Exposing C++ Classes into R Through Rcpp Modules","what":"Exporting and documenting an Rcpp Module","title":"Expose the Student C++ Class using Rcpp Modules","text":"R/student-exports.R file, write load statement module exposed via RCPP_MODULE( ... ) macro. addition, make sure export class name package loaded anyone can access via new().","code":"# Export the \"Student\" C++ class by explicitly requesting Student be # exported via roxygen2's export tag. #' @export Student  loadModule(module = \"RcppStudentEx\", TRUE)"},{"path":"https://rd.thecoatlessprofessor.com/rcpp-modules-student/index.html","id":"package-structure","dir":"","previous_headings":"Exposing C++ Classes into R Through Rcpp Modules","what":"Package Structure","title":"Expose the Student C++ Class using Rcpp Modules","text":"register required components Rcpp Modules, NAMESPACE file must populated imports Rcpp methods R packages. addition, package’s dynamic library must specified well. two ways go : Let roxygen2 automatically generate NAMESPACE file; Manually specify NAMESPACE file. roxygen2 markup required can found R/student-pkg.R. run documentation generation phase, NAMESPACE file created : Make sure build reload package prior accessing methods.","code":"#' @useDynLib RcppStudent, .registration = TRUE #' @import methods Rcpp \"_PACKAGE\" # Generated by roxygen2: do not edit by hand  export(Student) import(Rcpp) import(methods) useDynLib(RcppStudent, .registration = TRUE)"},{"path":"https://rd.thecoatlessprofessor.com/rcpp-modules-student/index.html","id":"calling-an-rcpp-module-in-r","dir":"","previous_headings":"Exposing C++ Classes into R Through Rcpp Modules","what":"Calling an Rcpp Module in R","title":"Expose the Student C++ Class using Rcpp Modules","text":"point, everything boils constructing object class using new() methods package. new() function initializes C++ object specified C++ class treats like traditional S4 object.","code":"################## ## Constructor  # Construct new Student object called \"ben\" ben = new(Student, name = \"Ben\", age = 26, male = TRUE)  ################## ## Getters  ben$LikesBlue() # [1] TRUE  ben$GetAge() # [1] 26  ben$IsMale() # [1] TRUE  ben$GetName() # [1] \"Ben\"  ben$GetFavoriteNumbers() # [1]  2  3  5  7 11"},{"path":"https://rd.thecoatlessprofessor.com/rcpp-modules-student/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Expose the Student C++ Class using Rcpp Modules","text":"GPL (>= 2)","code":""},{"path":"https://rd.thecoatlessprofessor.com/rcpp-modules-student/reference/RcppStudent-package.html","id":null,"dir":"Reference","previous_headings":"","what":"RcppStudent: Expose the Student C++ Class using 'Rcpp Modules' — RcppStudent-package","title":"RcppStudent: Expose the Student C++ Class using 'Rcpp Modules' — RcppStudent-package","text":"Provides implementation Student 'C++' class connected 'R' using 'Rcpp Modules' expose underlying class methods.","code":""},{"path":"https://rd.thecoatlessprofessor.com/rcpp-modules-student/reference/RcppStudent-package.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"RcppStudent: Expose the Student C++ Class using 'Rcpp Modules' — RcppStudent-package","text":"RcppStudent package showing use Rcpp Modules make available C++ class S4.","code":""},{"path":[]},{"path":"https://rd.thecoatlessprofessor.com/rcpp-modules-student/reference/RcppStudent-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"RcppStudent: Expose the Student C++ Class using 'Rcpp Modules' — RcppStudent-package","text":"Maintainer: James Balamuta balamut2@illinois.edu Authors: Ben Gorman bgorman@gormanalysis.com","code":""},{"path":"https://rd.thecoatlessprofessor.com/rcpp-modules-student/reference/Student.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Student Object from the Student C++ Class — Student","title":"Create a Student Object from the Student C++ Class — Student","text":"Allows creation Student Object C++ R using C++ Student class.","code":""},{"path":"https://rd.thecoatlessprofessor.com/rcpp-modules-student/reference/Student.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Student Object from the Student C++ Class — Student","text":"name Name Student age Age Student male Student Male?","code":""},{"path":"https://rd.thecoatlessprofessor.com/rcpp-modules-student/reference/Student.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Student Object from the Student C++ Class — Student","text":"Student object C++ Student Class.","code":""},{"path":"https://rd.thecoatlessprofessor.com/rcpp-modules-student/reference/Student.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a Student Object from the Student C++ Class — Student","text":"","code":"################## ## Constructor  # Construct new Student object called \"ben\" ben = new(Student, name = \"Ben\", age = 26, male = TRUE)  ################## ## Getters  ben$LikesBlue() #> [1] TRUE  ben$GetAge() #> [1] 26  ben$IsMale() #> [1] TRUE  ben$GetName() #> [1] \"Ben\"  ben$GetFavoriteNumbers() #> [1]  2  3  5  7 11"},{"path":"https://rd.thecoatlessprofessor.com/rcpp-modules-student/reference/simulate_student.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Student object. — simulate_student","title":"Create a Student object. — simulate_student","text":"Constructes Student object non-default values accesses favorite numbers.","code":""},{"path":"https://rd.thecoatlessprofessor.com/rcpp-modules-student/reference/simulate_student.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Student object. — simulate_student","text":"","code":"simulate_student()"},{"path":"https://rd.thecoatlessprofessor.com/rcpp-modules-student/reference/simulate_student.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Student object. — simulate_student","text":"integer vector containing student's favorite numbers.","code":""}]
